<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>TweetCat</title>
    <link rel="stylesheet" href="../css/common_utils.css"/>
    <link href="../css/dashboard.css" rel="stylesheet">
    <script src="../js/dashboard.js"></script>
</head>
<body>
<div id="view-main-home" class="view-main-home page_view">

    <div class="logo-container">
        <img src="../images/logo.png" alt="logo">
    </div>

    <div class="category-show-area" id="category-show-area">
        <button id="btn-mgn-category" class="btn-mgn-category"></button>
        <div id="ad-block-setting"
             style="margin-top: 16px; background-color: rgba(74,153,233,0.2);border-radius: 9999px;padding:12px 16px">
            <label style="display: flex; align-items: center; justify-content: space-between;">
                <div>
                    <span class="ads-blocked-tips">__MSG_block_ads__</span>
                    <span class="number-blocked-txt"
                          style="color:rgb(29, 155, 240); background-color: rgba(29, 155, 240,0.2);border-radius: 999px; line-height: 20px;padding: 4px 12px; margin-left: 4px">0</span>
                </div>
                <input type="checkbox" id="ad-block-toggle"/>
            </label>
        </div>
        <div id="wallet-create-div" class="wallet-create-div">
            <button id="btn-create-wallet" class="btn-create-wallet">New Web3 ID</button>
        </div>
        <div id="wallet-info-area" class="wallet-info-area">
            <div class="wallet-summary">
                <div class="wallet-row">
                    <span class="wallet-label">Address</span>
                    <span class="wallet-address-value selectable"></span>
                </div>
                <div class="wallet-row">
                    <span class="wallet-label">ETH</span>
                    <span class="wallet-eth-value">--</span>
                </div>
                <div class="wallet-row">
                    <span class="wallet-label">USDT</span>
                    <span class="wallet-usdt-value">--</span>
                </div>
            </div>
            <div class="wallet-action-div">
                <button id="wallet-settings-btn" class="wallet-settings-btn">settings</button>
                <button id="ipfs-settings-btn" class="wallet-settings-btn ipfs-settings-btn">IPFS 设置</button>
            </div>
        </div>
    </div>

</div>

<div id="view-wallet-setting" class="view-wallet-setting page_view">
    <div class="subpage-header">
        <button id="wallet-back-btn" class="button-back" aria-label="返回">
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
                    <polygon fill="#191e24"
                             points="15.97 6.75 3.88 6.75 9.32 1.31 7.9 0 0 7.9 7.9 15.8 9.21 14.49 3.94 9.22 15.97 9.22 15.97 6.75"/>
                </svg>
            </div>
        </button>
        <div class="subpage-title">钱包设置</div>
    </div>
    <section class="wallet-section">
        <h3 class="section-title">常用操作</h3>
        <div class="wallet-actions">
            <button id="btn-refresh-balance">刷新余额</button>
            <button id="btn-export-private-key">导出私钥</button>
            <button id="btn-transfer-eth">转账 ETH</button>
            <button id="btn-transfer-token">转账代币</button>
            <button id="btn-sign-message">签名消息</button>
            <button id="btn-sign-typed-data">签名 TypedData</button>
            <button id="btn-verify-signature">验签</button>
            <button id="btn-open-settings">节点设置</button>
        </div>
    </section>
    <section class="wallet-section">
        <div id="settings-panel" class="wallet-settings hidden">
            <h3 class="section-title">节点与 RPC</h3>
            <div class="settings-group">
                <label for="infura-project-id">Infura Project ID（可选）</label>
                <input type="text" id="infura-project-id" placeholder="示例：123abc456def"/>
            </div>
            <div class="settings-group">
                <label for="custom-rpc-url">自定义 RPC URL（可选）</label>
                <input type="text" id="custom-rpc-url" placeholder="https://example.com/rpc"/>
            </div>
            <div class="settings-group rpc-mode-group">
                <label><input type="radio" name="rpc-mode" value="default" checked/> 使用默认公共 RPC</label>
                <label><input type="radio" name="rpc-mode" value="custom"/> 使用自定义 RPC</label>
            </div>
            <div class="settings-actions">
                <button id="btn-save-settings">保存</button>
                <button id="btn-reset-settings">恢复默认</button>
            </div>
        </div>
    </section>
</div>

<div id="view-ipfs-settings" class="view-ipfs-settings page_view">
    <div class="view-header">
        <button id="ipfs-back-btn" class="view-back-btn" type="button" aria-label="返回">← 返回</button>
        <h2>IPFS 设置</h2>
    </div>
    <div class="view-content">

        <div class="provider-row">
            <select id="ipfs-provider-select">
                <option value="pinata">Pinata</option>
                <option value="lighthouse">Lighthouse</option>
                <option value="custom">自建节点</option>
                <option value="tweetcat">TweetCat 官方节点</option>
            </select>
            <div class="provider-actions">
                <button id="ipfs-provider-set-tweetcat" type="button">设为 TweetCat 默认</button>
            </div>
        </div>

        <p class="sensitive-hint">敏感字段输入后将加密保存，留空则保留已有值。</p>

        <div class="ipfs-provider-section" data-provider="tweetcat" >
            <div>
                使用 TweetCat 官方托管的 IPFS 网关和上传服务。本选项为只读，无法修改任何凭据或端点。
                （可在此放入一小段富文本说明，例如：稳定性、速率限制、隐私说明、服务协议链接等）
            </div>
        </div>
        <div class="ipfs-provider-section" data-provider="pinata" hidden>
            <h3>Pinata 凭据</h3>
            <div class="grid">
                <label>API Key
                    <input id="pinata-api-key" type="password" autocomplete="off" placeholder="请输入 Pinata API Key">
                </label>
                <label>API Secret
                    <input id="pinata-api-secret" type="password" autocomplete="off" placeholder="请输入 Pinata API Secret">
                </label>
                <label>JWT Token
                    <input id="pinata-jwt" type="password" autocomplete="off" placeholder="Bearer Token (可选)">
                </label>
            </div>
            <div class="provider-section-actions" data-provider="pinata">
                <button id="pinata-reveal-fill" type="button">解密并回填</button>
                <button id="pinata-save" class="primary" type="button">保存 Pinata</button>
                <button id="pinata-clear" class="danger" type="button">清空 Pinata</button>
            </div>
        </div>
        <div class="ipfs-provider-section" data-provider="lighthouse" hidden>
            <h3>Lighthouse 凭据</h3>
            <div class="grid">
                <label>API Key
                    <input id="lighthouse-api-key" type="password" autocomplete="off" placeholder="输入 API Key (可选)">
                </label>
                <label>JWT Token
                    <input id="lighthouse-jwt" type="password" autocomplete="off" placeholder="输入 JWT Token (可选)">
                </label>
            </div>
            <div class="provider-section-actions" data-provider="lighthouse">
                <button id="lighthouse-reveal-fill" type="button">解密并回填</button>
                <button id="lighthouse-save" class="primary" type="button">保存 Lighthouse</button>
                <button id="lighthouse-clear" class="danger" type="button">清空 Lighthouse</button>
            </div>
        </div>
        <div class="ipfs-provider-section" data-provider="custom" hidden>
            <h3>自建节点</h3>
            <div class="grid">
                <label>API URL
                    <input id="custom-api-url" type="text" placeholder="http://127.0.0.1:5001/api/v0">
                </label>
                <label>Gateway URL (可选)
                    <input id="custom-gateway-url" type="text" placeholder="https://ipfs.io/ipfs">
                </label>
                <label>Authorization (可选)
                    <input id="custom-auth" type="password" autocomplete="off" placeholder="Basic xxx 或 Bearer yyy">
                </label>
            </div>
            <div class="provider-section-actions" data-provider="custom">
                <button id="custom-reveal-fill" type="button">解密并回填</button>
                <button id="custom-save" class="primary" type="button">保存 自建节点</button>
                <button id="custom-clear" class="danger" type="button">清空 自建节点</button>
            </div>
        </div>

        <div class="external-links">
            <button type="button" data-ipfs-link="https://pinata.cloud/">Pinata 官网</button>
            <button type="button" data-ipfs-link="https://www.lighthouse.storage/">Lighthouse 官网</button>
            <button type="button" data-ipfs-link="https://github.com/ipfs/ipfs-desktop">IPFS Desktop</button>
        </div>
    </div>
</div>

<div id="view-category-manager" class="view-category-manager page_view">
    <div style="display: flex; align-items: center;justify-content: space-between;padding: 16px">
        <div style="display: flex; align-items: center;justify-content: flex-start">
            <button class="button-back">
                <div>
                    <svg id="图层_1" data-name="图层 1" xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                         viewBox="0 0 16 16">
                        <defs>
                            <style>.cls-1 {
                                fill: #191e24;
                            }</style>
                        </defs>
                        <polygon class="cls-1"
                                 points="15.97 6.75 3.85 6.75 8.41 2.19 7 0.78 0.03 7.75 7.5 15.22 8.91 13.81 3.85 8.75 15.97 8.75 15.97 6.75"/>
                    </svg>
                </div>
            </button>
            <span style="margin-left: 8px" class="msg-category-label">__MSG_category_label__</span>
        </div>
        <div class="category-kol-operation">
            <button class="category-remove-btn">__MSG_remove__</button>
        </div>
    </div>
    <div class="category-id"></div>
    <div class="category-name" style="padding: 0 16px">
        <label>
            <input type="text" class="category-name-val">
        </label>

        <button class="name-edit">__MSG_save__</button>
    </div>
</div>


<div id="modal-add-category" class="modal-new-category">
    <div class="modal-content-new-category">
        <h3>__MSG_add_new_category__</h3>
        <label>
            <input type="text" class="new-category-name" placeholder="__MSG_enter_category_name__">
        </label>
        <div class="modal-buttons-new-category">
            <button id="btn-cancel-new-category">__MSG_cancel__</button>
            <button id="btn-confirm-new-category">__MSG_confirm__</button>
        </div>
    </div>
</div>

<div id="confirm-popup">
    <div class="popup-content">
        <p id="confirm-message">__MSG_confirm_message__</p>
        <div class="button-row">
            <button id="btn-cancel">__MSG_cancel__</button>
            <button id="btn-ok">__MSG_confirm__</button>
        </div>
    </div>
</div>

<div id="custom-alert">
    <div id="alert-content">
        <h3 id="alert-title">__MSG_alert_title__</h3>
        <p id="alert-message">__MSG_alert_message__</p>
        <button id="alert-ok">__MSG_ok__</button>
    </div>
</div>

<div id="loading-overlay">
    <div id="loading-content">
        <div class="spinner"></div>
        <div class="loading-message"></div>
    </div>
</div>

<div id="notification" class="notification hidden" role="alert"></div>
</body>
</html>